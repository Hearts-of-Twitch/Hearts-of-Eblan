on_actions = {
	on_startup = {
		#effect = {
		#	USA = {
		#		every_core_state = {
		#			limit = {
		#				has_state_flag = USA_capital_state
		#			}
		#			add_to_array = {
		#				array = USA.coreable_states_capitals
		#				value = THIS.id
		#			}
		#		}
		#	}
		#}
		effect = {
			log = "The Fire Rises \"Release\" v1.0.4a"
			set_global_flag = TFR_startup_global
			every_country = {
				add_ideas = i_dont_wanna_market
			}
			every_country = {
				limit = {
					is_ai = no
				}
				set_variable = {
					show_up = 0
				}
				set_variable = {
					show_up_info = 0
				}
				set_variable = {
					show_up_unit = 0
				}
				set_variable = {
					show_up_money = 0
				}
				set_variable = {
					show_up_credit = 0
				}
				set_variable = {
					show_up_country = 1
				}
			}
			every_possible_country = {
				limit = {
					is_ai = yes
				}
				set_variable = {
					show_up = 1
				}
				set_variable = {
					show_up_info = 0
				}
				set_variable = {
					show_up_unit = 0
				}
				set_variable = {
					show_up_money = 0
				}
				set_variable = {
					show_up_credit = 0
				}
				set_variable = {
					show_up_country = 1
				}
			}
			#Adds political party political power modifier
			for_each_scope_loop = {
				array = countries
				#Party Popularity Setup
				set_variable = {
					coalition_pp_gain = 0
				}
				if = {
					limit = {
						has_variable = political_power_ideology_var
					}
					map_party_popularity_PP_gain_to_ideology = yes
				}
				else = {
					default_party_popularity_PP_gain = yes
				}
				add_dynamic_modifier = {
					modifier = party_popularity_dynamic_modifier
				}
			}
			#Political coalition setup
			every_country = {
				limit = {
					OR = {
						NOT = {
							has_government = communist
							has_government = totalitarian_socialist
							has_government = libertarian_socialist
							tag = USA
						}
					}
				}
				change_economy_type_capitalism = yes
			}
			every_country = {
				limit = {
					OR = {
						has_government = communist
						has_government = totalitarian_socialist
						has_government = libertarian_socialist
						tag = BLR
					}
					NOT = {
						tag = PRC
					}
				}
				change_economy_type_planned_economy = yes
			}		
			every_country = {
				limit = {
					OR = {
						has_government = social_democrat
					}
				}
				change_economy_type_welfare_capitalism = yes
			}
			every_country = {
				limit = {
					OR = {
						tag = JAP
					}
				}
				change_economy_type_collective_capitalism = yes
			}
			every_country = {
				limit = {
					OR = {
						tag = UKR
						tag = SOV
						tag = KAZ
						tag = TUR
					}
				}
				change_economy_type_oligopolistic_capitalism = yes
			}
			USA = {
				add_ideas = ZZZ_american_capitalism
			}	
			PRC = {
				change_economy_type_socialist_market = yes
			}
			every_country = {
				limit = {
					has_country_flag = global_ass_lol
				}
				send_embargo = SOV
				send_embargo = PER
				send_embargo = PRK
				send_embargo = VEN
				send_embargo = TAL
				send_embargo = HRL
				send_embargo = SYR
				send_embargo = PAL
				send_embargo = HEZ
				send_embargo = SHB
			}
			BUL = {
				set_temp_variable = {
					coalition_partner_var_temp = token:authoritarian_democrat
				}
				add_to_coalition = yes
			}
			JAP = {
				set_temp_variable = {
					coalition_partner_var_temp = token:authoritarian_democrat
				}
				add_to_coalition = yes
				send_embargo = PAL
				send_embargo = HEZ
				send_embargo = SHB
			}
			ALB = {
				set_temp_variable = {
					coalition_partner_var_temp = token:social_liberal
				}
				add_to_coalition = yes
				set_temp_variable = {
					coalition_partner_var_temp = token:libertarian_socialist
				}
				add_to_coalition = yes
			}
			IRE = {
				set_temp_variable = {
					coalition_partner_var_temp = token:market_liberal
				}
				add_to_coalition = yes
				set_temp_variable = {
					coalition_partner_var_temp = token:conservative
				}
				add_to_coalition = yes
				send_embargo = PAL
				send_embargo = HEZ
				send_embargo = SHB
			}
			AST = {
				set_temp_variable = {
					coalition_partner_var_temp = token:conservative
				}
				add_to_coalition = yes
				send_embargo = PAL
				send_embargo = SHB
				send_embargo = HEZ
			}
			NZL = {
				send_embargo = PAL
				send_embargo = SHB
				send_embargo = HEZ
			}
			VEN = {
				set_temp_variable = {
					coalition_partner_var_temp = token:totalitarian_socialist
				}
				add_to_coalition = yes
				set_temp_variable = {
					coalition_partner_var_temp = token:libertarian_socialist
				}
				add_to_coalition = yes
			}
			CRO = {
				set_temp_variable = {
					coalition_partner_var_temp = token:social_liberal
				}
				add_to_coalition = yes
			}
			CZE = {
				add_dynamic_modifier = {
					modifier = party_popularity_dynamic_modifier_coalition
				}
				set_temp_variable = {
					coalition_partner_var_temp = token:social_democrat
				}
				add_to_coalition = yes
			}
			GER = {
				set_temp_variable = {
					coalition_partner_var_temp = token:social_democrat
				}
				add_to_coalition = yes
			}
			HOL = {
				set_temp_variable = {
					coalition_partner_var_temp = token:conservative
				}
				add_to_coalition = yes
				set_temp_variable = {
					coalition_partner_var_temp = token:social_liberal
				}
				add_to_coalition = yes
			}
			NOR = {
				set_temp_variable = {
					coalition_partner_var_temp = token:authoritarian_democrat
				}
				add_to_coalition = yes
				set_temp_variable = {
					coalition_partner_var_temp = token:social_liberal
				}
				add_to_coalition = yes
			}
			SER = {
				set_temp_variable = {
					coalition_partner_var_temp = token:social_democrat
				}
				add_to_coalition = yes
			}
			SWE = {
				set_temp_variable = {
					coalition_partner_var_temp = token:social_liberal
				}
				add_to_coalition = yes
			}
			SWI = {
				set_temp_variable = {
					coalition_partner_var_temp = token:market_liberal
				}
				add_to_coalition = yes
				set_temp_variable = {
					coalition_partner_var_temp = token:conservative
				}
				add_to_coalition = yes
			}		
			PRC = {
				set_temp_variable = {
					coalition_partner_var_temp = token:market_liberal
				}
				add_to_coalition = yes
				set_temp_variable = {
					coalition_partner_var_temp = token:conservative
				}
				add_to_coalition = yes		
				set_temp_variable = {
					coalition_partner_var_temp = token:authoritarian_democrat
				}
				add_to_coalition = yes	
				set_temp_variable = {
					coalition_partner_var_temp = token:libertarian_socialist
				}
				add_to_coalition = yes		
				set_temp_variable = {
					coalition_partner_var_temp = token:social_democrat
				}
				add_to_coalition = yes		
				set_temp_variable = {
					coalition_partner_var_temp = token:social_liberal
				}
				add_to_coalition = yes
			}
			every_country = {
				limit = {
					is_ai = yes
					is_relavent_tag = no #countries with skeleton content and are important enough that they need to produce their own divisions
				}
				add_ideas = ai_disabled_production
				country_lock_all_division_template = yes
				set_research_slots = 0
			}
		}
	}
}
